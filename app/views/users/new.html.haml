.sign-in-up{ class: (sign_in_partner.present? ? "with-partner" : "not-partner") }
  - unless sign_in_partner.present?
    .sign-in-up-header.container
      .row
        %h1 Get on Bike Index
  .container
    .sign-in-up-wrap
      .row
        .oauth-providers
          %a.facebook-login{ href: '/auth/facebook' }
            %span.oauth-logo-block= image_tag 'revised/facebook_login.svg'
            %span.oauth-text-block Sign up using Facebook

          %a.strava-login{ href: '/auth/strava' }
            %span.oauth-logo-block= image_tag 'revised/strava_login.svg'
            %span.oauth-text-block Sign up using Strava
        .sign-in-up-or
          %h3 Or
        .main-form
          %h3.sign-in-up-main-form-header
            Sign up
            %small
              - if sign_in_partner.present?
                already have a Bike Index account?
              - else
                already have an account?
              = link_to 'log in', new_session_path(partner: sign_in_partner, email: params[:email])

          = form_for @user do |f|
            - if sign_in_partner
              = hidden_field_tag :partner, sign_in_partner

            .form-group
              = f.label :email, class: 'sr-only'
              = f.email_field :email, placeholder: 'email', class: 'form-control'
            .form-group
              = f.label :name, class: 'sr-only'
              = f.text_field :name, placeholder: 'name', class: 'form-control'
            .form-group
              = f.label :password, class: 'sr-only'
              = f.password_field :password, placeholder: 'password', class: 'form-control'

            .checkbox.terms-and-conditions
              %label
                = f.check_box :terms_of_service

                - if sign_in_partner == "bikehub"
                  I agree to BikeHub's
                  = link_to "terms and conditions", nil, data: { target: "https://basic.bikehub.com/terms.html" }, class: "no-tab"
                  and Bike Index's
                  = link_to "terms and conditions", nil, data: { target: terms_path }, class: "no-tab"
                - else
                  I agree to Bike Index's
                  = link_to "terms and conditions", nil, data: { target: terms_path }, class: "no-tab"

            - unless sign_in_partner.present?
              .checkbox
                %label
                  = f.check_box :notification_newsletters
                  Get Bike Index's Newsletter

            = f.submit "Sign up", class: 'btn btn-primary btn-lg'

          %p= link_to "Forgot your password?", request_password_reset_users_path
