<%# locals: (collection:, render_sortable: false) %>
<% viewing_deleted ||= @viewing_deleted %>

<div class="full-screen-table">
  <table class="table table-striped table-bordered table-sm">
    <thead class="thead-light">
      <th><%= sortable "created_at", render_sortable: %></th>

      <% if viewing_deleted %>
        <th><%= sortable "deleted_at", render_sortable: %></th>
      <% end %>

      <th><%= sortable "user_id", render_sortable: %></th>
      <th><%= sortable "reason", render_sortable: %></th>
      <th><%= sortable "creator_id", render_sortable: %></th>
      <th>Description</th>
    </thead>

    <tbody>
      <% collection.each do |user_ban| %>
        <tr>
          <td>
            <div class="less-strong-hold">
              <span class="localizeTime">
                <%= l user_ban.created_at, format: :convert_time %>
              </span>

              <% if display_dev_info? %>
                <span class="less-strong-right d-none d-md-block only-dev-visible">
                  <%= user_ban.id %>
                </span>
              <% end %>
            </div>
          </td>

          <% if viewing_deleted %>
            <td>
              <div class="less-strong-hold">
                <span class="localizeTime tw:text-red-500">
                  <%= l user_ban.deleted_at, format: :convert_time %>
                </span>
              </div>
            </td>
          <% end %>

          <td>
            <%= render Admin::UserCell::Component.new(user: user_ban.user, render_search: false) %>
          </td>

          <td><%= user_ban.reason&.humanize %></td>

          <td>
            <%= render Admin::UserCell::Component.new(user: user_ban.creator, render_search: render_sortable) %>
          </td>

          <td>
            <small title="<%= user_ban.description %>">
              <%= user_ban.description&.truncate(100) %>
            </small>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
