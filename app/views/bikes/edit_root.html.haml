= form_for @bike, multipart: true, html: { class: 'primary-edit-bike-form' } do |f|
  .form-well-container.container{ class: "edit-bike-page-#{@edit_template}" }
    .row
      = render partial: '/bikes/edit_primary_menu'
      .col-md-8.form-well
        .form-wrap
          .edit-bike-form-header
            %h3
              = @edit_templates[@edit_template]


          .related-fields.row
            .form-group
              = f.label :serial_number, class: 'form-well-label'
              %p.serial-and-manufacturer-input
                = @bike.serial_number
              .submit-correction-block
                %a{data: { toggle: 'modal', target: '#serial-correction' } }
                  Submit serial correction
            .form-group
              = f.label :manufacturer, class: 'form-well-label'
              %p.serial-and-manufacturer-input
                = @bike.manufacturer_name
              .submit-correction-block
                %a{data: { toggle: 'modal', target: '#manufacturer-correction' } }
                  Submit Manufacturer Correction

          .form-group.row.fancy-select.unfancy.unnested-field
            = f.label :year, 'Model year', class: 'form-well-label'
            .form-well-input
              - years = (1900..Time.now.year+1).to_a.reverse.map { |i| [i,i] }
              = f.select :year, years, prompt: "Unsure or unknown", selected: Time.now.year
            .right-input-help
              %label
                %input#bike_unknown_year{ type: 'checkbox', tabindex: -1 }
                Unknown year

          .form-group.row.unnested-field
            = f.label :frame_model, class: 'form-well-label'
            .form-well-input
              = f.text_field :frame_model, class: 'form-control'

          = render partial: '/bikes/bike_fields/revised_colors', locals: { f: f }

          .form-group.row.unnested-field
            = f.label :frame_material_id, 'Main frame material', class: 'form-well-label'
            .form-well-input.fancy-select-placeholder.unfancy
              = f.collection_select(:frame_material_id, FrameMaterial.all, :id, :name, prompt: 'Choose material')

          .form-group.row.unnested-field
            = f.label :frame_size, class: 'form-well-label'
            .form-well-input
              = f.text_field :frame_size, class: 'form-control'
              .below-input-help
                Need to implement the scripts for this

          .form-group.row.unnested-field
            = f.label :paint_name, 'Paint description', class: 'form-well-label'
            .form-well-input
              = f.text_field :paint_name, class: 'form-control'

          .form-group.row.unnested-field
            = f.label :name, 'Bike Name', class: 'form-well-label'
            .form-well-input
              = f.text_field :name, class: 'form-control'

          .form-group.row.unnested-field
            = f.label :description, 'General description', class: 'form-well-label form-well-label-large-input'
            .form-well-input-large
              = f.text_area :description, rows: 3, class: 'form-control', placeholder: 'Tell us about your bike!'

          .form-group.row.unnested-field
            = f.label :additional_registration, class: 'form-well-label'
            .form-well-input
              = f.text_field :additional_registration, class: 'form-control'

          .form-group.row.unnested-field.no-divider-row
            = f.label :zipcode, class: 'form-well-label'
            .form-well-input
              = f.text_field :zipcode, class: 'form-control', placeholder: 'zip code'