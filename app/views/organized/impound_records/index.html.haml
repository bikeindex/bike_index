-# TODO: add translations

.organized-page-header
  %h1
    Impound Records

= render partial: "/shared/period_select", locals: { skip_submission: true }

.row.mt-4.mb-4
  .col-sm-6
    = pluralize(number_with_delimiter(@impound_records.total_count), "Matching impound record")
  .col-sm-6.offset-lg-4.col-lg-2
    %a.dropdown-toggle.btn.btn-outline-primary{ href: "#", role: "button", "data-toggle" => "dropdown", "aria-haspopup" => "true", "aria-expanded" => "false", class: (@search_status == "active" ? "" : "active") }
      = @search_status.humanize
    .dropdown-menu
      - (%w[active all] + ImpoundRecord.statuses).each do |kind|
        - kind_active = @search_status == kind
        - kind_link_params = sortable_search_params.merge(organization_id: current_organization.id, search_status: (kind_active ? nil : kind))
        = link_to kind.humanize, organization_impound_records_path(kind_link_params), class: "dropdown-item #{kind_active ? 'active' : ''}"
        - if kind == "all" # Add a divider after all
          .dropdown-divider


- skip_resolved = (ImpoundRecord.active_statuses + ["active"]).include?(@search_status)
= render partial: "/organized/impound_records/table", locals: { impound_records: @impound_records, render_sortable: true, render_resolved_at: !skip_resolved }

.paginate-container.paginate-container-bottom
  = paginate @impound_records
