.organized-page-header
  %h1
    = t(".parking_notification")

- # TODO: add translations
%table.table-list
  %tbody
    %tr
      %td= t(".created")
      %td
        %span.convertTime
          = l(@parking_notification.created_at, format: :convert_time)
    %tr
      %td= t(".by")
      %td= @parking_notification.user.display_name
    %tr
      %td Kind
      %td= @parking_notification.kind_humanized
    %tr
      %td= t(".bike")
      %td
        - if @bike.present?
          = link_to organized_bike_text(@bike), bike_path(@bike)
    %tr
      %td= t(".message")
      %td= @parking_notification.message
    %tr
      %td= t(".internal_notes_html", org_name: current_organization.short_name)
      %td= @parking_notification.internal_notes


#map_canvas{ style: "height: 400px;" }

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<script src="https://maps.googleapis.com/maps/api/js?key=#{ENV["GOOGLE_MAPS"]}&sensor=false" type="text/javascript">
</script>

:plain
  <script type="text/javascript">
    var map;
    function initialize() {
      var center = new google.maps.LatLng(#{@parking_notification.latitude}, #{@parking_notification.longitude});
      var myOptions = {
        zoom: 13,
        center: center,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };
      map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

      new google.maps.Marker({
        position: new google.maps.LatLng(#{@parking_notification.latitude}, #{@parking_notification.longitude}),
        map: map
      });
    }
    $(document).ready(function() {
      google.maps.event.addDomListener(window, "load", initialize);
    });
  </script>
