/*
 * Revised manifest file
 * things from rails-assets
 *= require select2
 *= require selectize/selectize.bootstrap3
 */

/*!
 * Bootstrap v4.0.0-alpha.2 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

// Core variables and mixins
@import "bootstrap/variables";

$enable-flex: true;

// Flexbox!!
$half-gutter: $grid-gutter-width / 2;

//
// Overrides
$border-radius: 1px;
$border-radius-lg: 1px;
$border-radius-sm: 1px;

@import "revised/mixins/colors";

//
// More bootstrap
@import "bootstrap/mixins";

// Reset and dependencies
@import "bootstrap/normalize";
@import "bootstrap/print";

// Core CSS
@import "bootstrap/reboot";

// @import "bootstrap/type";
@import "bootstrap/images";
@import "bootstrap/code";

.code {
  .code-label {
    border-radius: $border-radius $border-radius 0 0;
    width: 100%;
    background: $gray-lighter;
    border: 1px solid $gray-lightish;
    margin-top: 1em;
    margin-bottom: 0;
    padding: 7px 9px 5px;
    font-size: 15px;
    font-weight: bold;
  }

  pre {
    border-radius: 0 0 $border-radius $border-radius;
    box-shadow: inset 0 0 1px rgba(black, 0.2);
    border: 1px solid $gray-lightish;
    border-top: 0;
  }
}

@import "bootstrap/grid";
@import "bootstrap/tables";

.table-compact-long {
  line-height: 1.2em;
}

@import "bootstrap/forms";

// @import "bootstrap/buttons"; // Override buttons with our own buttons

// Components
@import "bootstrap/animation";
@import "bootstrap/dropdown";
@import "bootstrap/button-group";
@import "bootstrap/input-group";
@import "bootstrap/custom-forms";
@import "bootstrap/nav";
@import "bootstrap/navbar";
@import "bootstrap/card";
@import "bootstrap/breadcrumb";

// @import "bootstrap/pagination"; // Overriden with our own
// @import "bootstrap/tags";
@import "bootstrap/jumbotron";

// @import "bootstrap/alert"; // Overriden with our own
@import "bootstrap/progress";
@import "bootstrap/media";
@import "bootstrap/list-group";
@import "bootstrap/responsive-embed";
@import "bootstrap/close";

// Components w/ JavaScript
$modal-backdrop-bg: $blue-dark;
$modal-backdrop-opacity: 0.8;

@import "bootstrap/modal";
@import "bootstrap/tooltip";
@import "bootstrap/popover";
@import "bootstrap/carousel";

// Utility classes
@import "bootstrap/utilities";

//
// Other (non-bootstrap) external styles
@import "legacy_includes/zoom.scss";

$zoom-img-wrap-z-index: $zindex-navbar-fixed + 100;

.zoom-overlay {
  z-index: $zindex-navbar-fixed + 99;
}

.zoom-img-wrap {
  z-index: $zoom-img-wrap-z-index;
}

/*!
 * Bike Index styles
 * for revised style in 2016
 */

// Settings
@import "revised/vars";
@import "revised/fonts";

// Bootstrap overrides
@import "revised/mixins/buttons";
@import "revised/sections/modals";
@import "revised/sections/alerts";
@import "revised/sections/forms";
@import "revised/sections/custom_selects";

// Bike Index mixins
@import "revised/mixins/trash_can_icon";
@import "revised/mixins/textoverflow";
@import "revised/mixins/nav_tabs";

// Shared styles
@import "revised/sections/primary_header_nav";
@import "revised/sections/primary_footer";
@import "revised/sections/content_menu";
@import "revised/sections/form_well";
@import "revised/sections/form_well_additional_field";
@import "revised/sections/form_well_menu";
@import "revised/sections/form_well_header";
@import "revised/sections/pagination";
@import "revised/sections/horizontal_lines";
@import "revised/sections/legal";
@import "revised/sections/sharing";
@import "revised/sections/attr_list";
@import "revised/sections/sign_in_up";
@import "revised/sections/bikehub_sign_in_up";
@import "revised/sections/sign_out";
@import "revised/sections/ad_blocks";
@import "revised/sections/bike_search_form";
@import "revised/sections/bike_boxes";
@import "revised/sections/side_boxes";
@import "revised/sections/tables";
@import "revised/sections/embeded_tweet";

// Shared organized styles
@import "revised/pages/organized/forms";
@import "revised/pages/organized/shared";
@import "revised/pages/organized/parking_notifications";
@import "revised/pages/organized/exports";
@import "revised/pages/organized/bikes";
@import "revised/pages/organized/dashboard";
@import "revised/sections/organized_menu";

// left hand organized menu

//
// Page styles
//
// Bike form pages
@import "revised/pages/bikes/new";
@import "revised/pages/bikes/edit_bike_details";
@import "revised/pages/bikes/edit_bike_groups";
@import "revised/pages/bikes/edit_remove";
@import "revised/pages/bikes/edit_accessories";
@import "revised/pages/bikes/edit_photos";
@import "revised/pages/bikes/stolen_checklist";
@import "revised/pages/bikes/edit_publicize";
@import "revised/pages/bikes/edit_alert";

// Bike registration page styles
@import "revised/pages/bikes/choose_registration";

// Bike show & search pages
@import "revised/pages/bikes/index";
@import "revised/pages/bikes/show";
@import "revised/pages/bikes/show_photo";

// separated because it's a lot
@import "revised/pages/bikes/multi_serial_search";

// User pages
@import "revised/pages/user/home";
@import "revised/pages/user/edit";

// my_account page
@import "revised/pages/user/show";

// public show page

// Error pages
@import "revised/pages/errors";

// Info pages
@import "revised/pages/info/where";
@import "revised/pages/info/about";
@import "revised/pages/info/protect_your_bike";
@import "revised/pages/payments/payments";

// Support pages
@import "revised/pages/support/faq";

// Locks pages
@import "revised/pages/locks/lock_styles";

// News pages
@import "revised/pages/news/index";
@import "revised/pages/news/show";

// Landing page styles
@import "revised/pages/landing/organizations";
@import "revised/pages/landing/signup";
@import "revised/pages/landing/ambassadors";
@import "revised/pages/landing/point_of_sale";
@import "revised/pages/landing/packages";
@import "revised/pages/landing/footer";

// Home styles
@import "legacy_includes/slick.scss";
@import "revised/pages/landing/home";
@import "revised/pages/landing/recoveries";

// LEGACY PAGES general styles - replace as soon as all pages have been restyled
@import "revised/sections/legacy_content";

// general legacy content styles
@import "revised/pages/legacy_stolen";

// legacy stolen page - including multi-serial search
@import "revised/sections/oauth";

html {
  background: $black-off;
}

.currently-hidden {
  display: none;
}

img {
  max-width: 100%;
}

// don't break random stuff images!
body {
  min-height: 400px;
}

//
// External overrides
//

#old-browser-warning {
  width: 100%;
  background: $gray-lighter;
  border-top: 1px solid $gray-light;
  z-index: 9999;
  padding: $vertical-height;
  position: fixed;
  bottom: 0;
  left: 0;
  text-align: center;

  p {
    margin: 0;
  }

  h4 {
    color: $red;
    margin: 0 0 $vertical-height;
  }
}

// New version of Bootstrap include these and so I'm using them, delete once upgraded
.text-right {
  text-align: right;
}

.mt-4 {
  margin-top: 2 * $vertical-height;
}

.mt-2 {
  margin-top: $vertical-height;
}

.mt-0 {
  margin-top: 0;
}

.mb-4 {
  margin-bottom: 2 * $vertical-height;
}

.mb-2 {
  margin-bottom: $vertical-height;
}

.mb-0 {
  margin-bottom: 0;
}

.ml-4 {
  margin-left: 2 * $vertical-height;
}

.ml-2 {
  margin-left: $vertical-height;
}

.ml-0 {
  margin-left: 0;
}

.mr-4 {
  margin-right: 2 * $vertical-height;
}

.mr-2 {
  margin-right: $vertical-height;
}

.mr-0 {
  margin-right: 0;
}

.small {
  @extend small;
}

// pull-right and pull-left should be replaced by float-right and float-left
.float-right,
.pull-right {
  float: right;
}

.float-left,
.pull-left {
  float: right;
}

.text-right {
  text-align: right;
}

.text-left {
  text-align: left;
}

.text-center {
  text-align: center;
}

.less-strong {
  opacity: 0.65;
}

.gray-link {
  a,
  & {
    color: #6c757d !important; // new bootstrap: $gray-600
    opacity: 0.65;
    text-decoration: underline;
  }
  &:hover,
  &:active,
  &.active {
    opacity: 0.9;
  }
}

// Taken from bootstrap 4.3.1
//
// Utilities for common `display` values
//

$displays: none, inline, inline-block, block, table, table-row, table-cell, flex,
  inline-flex !default;

@function breakpoint-infix($name, $breakpoints: $grid-breakpoints) {
  @return if(breakpoint-min($name, $breakpoints) == null, "", "-#{$name}");
}

@each $breakpoint in map-keys($grid-breakpoints) {
  @include media-breakpoint-up($breakpoint) {
    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);

    @each $value in $displays {
      .d#{$infix}-#{$value} {
        display: $value !important;
      }
    }
  }
}
